<!DOCTYPE html>
  <head>
    <meta charset="UTF-8">
    <title>QiMessaging (メモリを監視)</title>
    <script src="libs/qimessaging/1.0/qimessaging.js"></script>
    <script>
      const unaduki = ["っんんっっんん","っっんん","っっんんっんん","へーーーー！！","ほーーーー！！","なるほどー","そうなんですね！！","なるほどーーそうなんですねぇ","っぁーーー","はいー","知らなかったです！！","じゃあ","っぁーーーーッ","あのぉー","っはぁーーーー","なるほどーー","もう少し質問しても良いですかー？","そーだったんーですねぇ---","っんー","ありがとうございます！！","ありがとうございます！","なるほどーーそうなんですね","酢ごくいいですねッ！！","んーーんーーーー","素敵ですねッ！!","そーだったんですね","なるほどーそうなんですねぇ","そうなんですね","そうですねぇぇ","知らなかったですーッ！！"]
      function toTabletHandler(value) {
        var value = value.replace(/どういうふー/g,'どういうふう');
        var value = value.replace(/やろーと/g,'やろうと');
        var value = value.replace(/っ？/g,'');
        var value = value.replace(/ろっで/g,'ろで');
        var value = value.replace(/、/g,'');
        var value = value.replace(/　/g,'');
        var value = value.replace(/ッ！/g,'！');
        var value = value.replace(/ッ？/g,'');
        var value = value.replace(/田紅/g,'食べに');
        var value = value.replace(/ーっ！！/g,'');
        var value = value.replace(/っー！！/g,'');
        var value = value.replace(/ーっ！/g,'');
        var value = value.replace(/っ！/g,'');
        var value = value.replace(/ぁ！！/g,'');
        var value = value.replace(/お話ですね/g,'お話しですね');
        var value = value.replace(/貴重なお話/g,'貴重なお話し');
        var value = value.replace(/\\pau=400\\/g,'');
        var value = value.replace(/ー！！/g,'');
        var value = value.replace(/そーだったんですね/g,'');
        var value = value.replace(/ナオ/g,'Nao');
        var value = value.replace(/胃ってみたいなーッ/g,'行ってみたいな！');
        var value = value.replace(/とこ炉が/g,'ところが');
        var value = value.replace(/とこ炉/g,'ところ');
        var value = value.replace(/信久/g,'暢久');
        var value = value.replace(/臨む/g,'望');
        var value = value.replace(/フジ海苔/g,'藤典');
        var value = value.replace(/浩子/g,'裕子');
        var value = value.replace(/守弘/g,'守裕');
        var value = value.replace(/芙美子/g,'富美子');
        var value = value.replace(/リラ/g,'りら');
        var value = value.replace(/健志/g,'毅');
        var value = value.replace(/三/g,'さん');
        var value = value.replace(/六平/g,'緑平');
        if (unaduki.indexOf(value) !==-1){
          document.getElementById("memory").innerHTML = "";
        }else{
          document.getElementById("memory").innerHTML = value;
          console.log(value)
        }
        
      }

      function startSubscribe() {
        var session = new QiSession("192.168.100.25");
        console.log(session)
        session.service("ALMemory").done(function (ALMemory) {
          ALMemory.subscriber("ALTextToSpeech/CurrentSentence").done(function(subscriber) {
            subscriber.signal.connect(toTabletHandler);
          });
        });
      }
    </script>
    <link href="html/main.css" rel="stylesheet">
  </head>
  <body onLoad="startSubscribe();">
    <div style="font-size: 7em;text-align: left;">
      <!-- <div style="margin:75px;"> -->
      <div class="wrapper">
        <img src="./images/fukidashi_orange.png" alt=""  width="110%" height="100%">
        <div class ="space">
          <p id="memory"></p>
        </div>
      </div>
    </div>
  </body>
</html>